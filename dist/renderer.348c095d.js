process.env.HMR_PORT=0;process.env.HMR_HOSTNAME="localhost";parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"OwLO":[function(require,module,exports) {
var e=require("child_process").exec,r={get:u,run:n};function n(r){return e(r)}function u(r,n){return e(r,function(e,r,u){n&&n(e,r,u)})}module.exports=r;
},{}],"+7b7":[function(require,module,exports) {
"use strict";var e=n(require("jquery"));require("bootstrap");var t,l=n(require("./cmd.js"));function n(e){return e&&e.__esModule?e:{default:e}}window.nodeRequire=window.require,delete window.require,delete window.exports,delete window.module;var o,c,a,d,u=50,y=0,s=0,m=0,x=0,r=0,f=0,i=0,g=0,p=0;document.getElementById("allruntime").innerText="已启动时间:"+y/1e3+"秒 已刷新次数:"+s+"次";var v=0,h=0;function z(e,t,l){if(e)console.log("error",e);else{var n=t.split("\n");console.log(n)}}function I(){console.log("初始化查找服务器",Date().split(" ").join("-")),console.log("执行命令","%cd%/console-LocalSyncWrapper.exe -l"),l.default.get("%cd%/console-LocalSyncWrapper.exe -l ",E)}function E(l,n,c){var a,d,u;if(l)console.log("error",l);else if((t=n.split("\n")).length>=2){for(var y in o=[],t)(a=t[y].indexOf("ProgID:"))>=0&&o.push(t[y]);if(o.length>0){for(y in console.log("找到"+o.length+"个opc服务器",Date().split(" ").join("-")),d=[],o)(u=o[y].indexOf("CLSID:"))>=0&&d.push(o[y].slice(a+2+"ProgID:".length,u-1));console.log(d),d.forEach(function(t,l){var n=[];n[l]=(0,e.default)("<a></a>").text(t),(0,e.default)("#xialiacaidan").append((0,e.default)("<li></li>").append(n[l])),console.log("下拉菜单添加项目",t),n[l].click(function(){(0,e.default)("#server").val(t)})})}else alert("没有找到任何opc服务器"),console.log("没有找到任何opc服务器")}else alert("执行失败,请使用管理员权限执行"),console.log("执行失败,请使用管理员权限执行")}function B(e){console.log("执行命令","%cd%/console-LocalSyncWrapper.exe -l"),l.default.get("%cd%/console-LocalSyncWrapper.exe -l ",w)}function w(e,n,d){var u,m,x,r;if(e)console.log("error",e);else if((t=n.split("\n")).length>=2){for(var f in o=[],t)(u=t[f].indexOf("ProgID:"))>=0&&o.push(t[f]);if(o.length>0){for(f in console.log("找到"+o.length+"个opc服务器"),m=[],o)(x=o[f].indexOf("CLSID:"))>=0&&m.push(o[f].slice(u+2+7,x-1));console.log(m);var i=m.filter(function(e){return e==c});console.log(i),r=(new Date).getTime(),y=r-a,document.getElementById("allruntime").innerText="已启动时间:"+y/1e3+"秒 已刷新次数:"+s+"次",i.length>0?(console.log("成功找到指定的服务器","从指定的服务器刷新数据",c,Date().split(" ").join("-")),1==document.getElementById("zdsx").checked&&(console.log("执行命令","%cd%/console-LocalSyncWrapper.exe -d "+c),l.default.get("%cd%/console-LocalSyncWrapper.exe -d "+c,C),console.log("是否刷新",document.getElementById("zdsx").checked,document.getElementById("tzsx").checked))):(console.log("未找到指定的服务器",c),alert("未找到指定的服务器"),k("未找到指定的服务器"),document.getElementById("connect").innerText="连接")}else console.log("没有找到任何opc服务器"),alert("没有找到任何opc服务器")}else alert("执行失败,请使用管理员权限执行"),console.log("执行失败,请使用管理员权限执行")}function C(t,n,o){var d,v,z,I,E,B;if(h=1,t)console.log("error",t),alert("连接服务器失败"),document.getElementById("connect").click(),k();else{for(var w in v=[],d=n.split("\n"))d[w].indexOf("read-uint-")>=0&&v.push(d[w]);if(v.length>0){D(),document.title="四层电梯监控-"+c,z=[],v.forEach(function(e,t,l){I=e.indexOf("read-uint-Channel1.Device1.")+"read-uint-Channel1.Device1.".length,E=e.indexOf("-read-finish"),B=e.slice(I,E),z.push(B)}),console.log(z),z.forEach(function(t){var l=t.split("=");"x0"==l[0]?(0,e.default)("#myx0").text(l[1]):"x1"==l[0]?(0,e.default)("#myx1").text(l[1]):"x2"==l[0]?(0,e.default)("#myx2").text(l[1]):"x3"==l[0]?(0,e.default)("#myx3").text(l[1]):"x4"==l[0]?(0,e.default)("#myx4").text(l[1]):"x5"==l[0]?(0,e.default)("#myx5").text(l[1]):"x6"==l[0]?(0,e.default)("#myx6").text(l[1]):"x7"==l[0]?(0,e.default)("#myx7").text(l[1]):"x10"==l[0]?(0,e.default)("#myx10").text(l[1]):"x11"==l[0]?(0,e.default)("#myx11").text(l[1]):"x12"==l[0]?(0,e.default)("#myx12").text(l[1]):"x13"==l[0]?(0,e.default)("#myx13").text(l[1]):"x14"==l[0]?(0,e.default)("#myx14").text(l[1]):"x15"==l[0]?(0,e.default)("#myx15").text(l[1]):"x16"==l[0]?(0,e.default)("#myx16").text(l[1]):"x17"==l[0]?(0,e.default)("#myx17").text(l[1]):"y0"==l[0]?(0,e.default)("#myy0").text(l[1]):"y1"==l[0]?(0,e.default)("#myy1").text(l[1]):"y2"==l[0]?(0,e.default)("#myy2").text(l[1]):"y3"==l[0]?(0,e.default)("#myy3").text(l[1]):"y4"==l[0]?(0,e.default)("#myy4").text(l[1]):"y5"==l[0]?(0,e.default)("#myy5").text(l[1]):"y6"==l[0]?(0,e.default)("#myy6").text(l[1]):"y7"==l[0]?(0,e.default)("#myy7").text(l[1]):"y10"==l[0]?(0,e.default)("#myy10").text(l[1]):"y11"==l[0]?(0,e.default)("#myy11").text(l[1]):"y12"==l[0]?(0,e.default)("#myy12").text(l[1]):"y13"==l[0]?(0,e.default)("#myy13").text(l[1]):"y14"==l[0]?(0,e.default)("#myy14").text(l[1]):"y15"==l[0]&&(0,e.default)("#myy15").text(l[1])});["#myx0","#myx1","#myx2","#myx3","#myx4","#myx5","#myx6","#myx7","#myx10","#myx11","#myx12","#myx13","#myx14","#myx15","#myx16","#myx17","#myy0","#myy1","#myy2","#myy3","#myy4","#myy5","#myy6","#myy7","#myy10","#myy11","#myy12","#myy13","#myy14","#myy15"].forEach(function(t){"1"==(0,e.default)(t).text()||"0"!=(0,e.default)(t).text()?((0,e.default)(t).text("1"),(0,e.default)(t).parent().addClass("table-success").removeClass("table-warning")):(0,e.default)(t).parent().addClass("table-warning").removeClass("table-success")}),"1"==(0,e.default)("#myx12").text()?(0,e.default)("#myz1").text("1"):"1"==(0,e.default)("#myx13").text()?(0,e.default)("#myz1").text("2"):"1"==(0,e.default)("#myx14").text()?(0,e.default)("#myz1").text("3"):"1"==(0,e.default)("#myx15").text()?(0,e.default)("#myz1").text("4"):(0,e.default)("#myz1").text("中"),"中"==(0,e.default)("#myz1").text()?(0,e.default)("#myz1").parent().addClass("table-warning").removeClass("table-success"):(0,e.default)("#myz1").parent().addClass("table-success").removeClass("table-warning"),"1"==(0,e.default)("#myx16").text()?(0,e.default)("#myz2").text("开"):"1"==(0,e.default)("#myx15").text()?(0,e.default)("#myz2").text("关"):(0,e.default)("#myz2").text("中"),"中"==(0,e.default)("#myz2").text()?(0,e.default)("#myz2").parent().addClass("table-warning").removeClass("table-success"):(0,e.default)("#myz2").parent().addClass("table-success").removeClass("table-warning"),"1"==(0,e.default)("#myy12").text()?(0,e.default)("#myz3").text("上"):"1"==(0,e.default)("#myy13").text()?(0,e.default)("#myz3").text("下"):(0,e.default)("#myz3").text("停"),"停"==(0,e.default)("#myz3").text()?(0,e.default)("#myz3").parent().addClass("table-warning").removeClass("table-success"):(0,e.default)("#myz3").parent().addClass("table-success").removeClass("table-warning"),"1"==(0,e.default)("#myy14").text()?(0,e.default)("#myz4").text("开"):"1"==(0,e.default)("#myy15").text()?(0,e.default)("#myz4").text("关"):(0,e.default)("#myz4").text("停"),"停"==(0,e.default)("#myz4").text()?(0,e.default)("#myz4").parent().addClass("table-warning").removeClass("table-success"):(0,e.default)("#myz4").parent().addClass("table-success").removeClass("table-warning"),s++;var T=(new Date).getTime();y=T-a,document.getElementById("allruntime").innerText="已启动时间:"+y/1e3+"秒 已刷新次数:"+s+"次","0"==(0,e.default)("#myy14").text()&&"0"==(0,e.default)("#myy15").text()&&"0"==(0,e.default)("#myy12").text()&&"0"==(0,e.default)("#myy13").text()&&m++,(0,e.default)("#myfreetime").text(Math.round(m/s*100*100)/100+"%"),(0,e.default)("#mybusytime").text(100-Math.round(m/s*100*100)/100+"%"),"0"==(0,e.default)("#myy12").text()&&"0"==(0,e.default)("#myy13").text()&&("1"==(0,e.default)("#myx12").text()?x++:"1"==(0,e.default)("#myx13").text()?r++:"1"==(0,e.default)("#myx14").text()?f++:"1"==(0,e.default)("#myx15").text()&&i++),(0,e.default)("#my1floortime").text(Math.round(x/s*100*100)/100+"%"),(0,e.default)("#my2floortime").text(Math.round(r/s*100*100)/100+"%"),(0,e.default)("#my3floortime").text(Math.round(f/s*100*100)/100+"%"),(0,e.default)("#my4floortime").text(Math.round(i/s*100*100)/100+"%"),"1"==(0,e.default)("#myx16").text()?g++:"1"==(0,e.default)("#myx17").text()&&p++,(0,e.default)("#myopentime").text(Math.round(g/s*100*100)/100+"%"),(0,e.default)("#myclosetime").text(Math.round(p/s*100*100)/100+"%")}else k()}setTimeout(function(){1==document.getElementById("zdsx").checked&&"断开"==document.getElementById("connect").innerText?(console.log("是否刷新",document.getElementById("zdsx").checked,document.getElementById("tzsx").checked),console.log("自动刷新",Date().split(" ").join("-")),setTimeout(function(){console.log("执行命令","%cd%/console-LocalSyncWrapper.exe -d "+c),l.default.get("%cd%/console-LocalSyncWrapper.exe -d "+c,C)},u)):(console.log("是否刷新",document.getElementById("zdsx").checked,document.getElementById("tzsx").checked),console.log("停止刷新",Date().split(" ").join("-")),h=0,D("断开成功"),y=0,s=0,m=0,x=0,r=0,f=0,i=0,g=0,p=0,document.getElementById("allruntime").innerText="已启动时间:"+y/1e3+"秒 已刷新次数:"+s+"次")},0)}function D(t="连接成功"){(0,e.default)("#connectstatus").text(t),(0,e.default)("#connectstatus").attr("style","color:green")}function k(t="连接失败"){(0,e.default)("#connectstatus").text(t),(0,e.default)("#connectstatus").attr("style","color:red")}onload=I,(0,e.default)("#up1").click(function(){if(void 0!==c&&1==document.getElementById("zdsx").checked&&"断开"==document.getElementById("connect").innerText){console.log("修改运行电机状态为上",Date().split(" ").join("-"));var e="%cd%/console-LocalSyncWrapper.exe -w "+c+" Channel1.Device1.y12  1";console.log("执行命令",e),l.default.get(e,z);e="%cd%/console-LocalSyncWrapper.exe -w "+c+" Channel1.Device1.y13  0";console.log("执行命令",e),l.default.get(e,z)}else{var t="先连接服务器之后,开启自动刷新,才能修改";alert(t),console.log(t)}}),(0,e.default)("#down1").click(function(){if(void 0!==c&&1==document.getElementById("zdsx").checked&&"断开"==document.getElementById("connect").innerText){console.log("修改运行电机状态为下",Date().split(" ").join("-"));var e="%cd%/console-LocalSyncWrapper.exe -w "+c+" Channel1.Device1.y13  1";console.log("执行命令",e),l.default.get(e,z);e="%cd%/console-LocalSyncWrapper.exe -w "+c+" Channel1.Device1.y12  0";console.log("执行命令",e),l.default.get(e,z)}else{var t="先连接服务器之后,开启自动刷新,才能修改";alert(t),console.log(t)}}),(0,e.default)("#stop1").click(function(){if(void 0!==c&&1==document.getElementById("zdsx").checked&&"断开"==document.getElementById("connect").innerText){console.log("修改运行电机状态为停",Date().split(" ").join("-"));var e="%cd%/console-LocalSyncWrapper.exe -w "+c+" Channel1.Device1.y12  0";console.log("执行命令",e),l.default.get(e,z);e="%cd%/console-LocalSyncWrapper.exe -w "+c+" Channel1.Device1.y13  0";console.log("执行命令",e),l.default.get(e,z)}else{var t="先连接服务器之后,开启自动刷新,才能修改";alert(t),console.log(t)}}),(0,e.default)("#on2").click(function(){if(void 0!==c&&1==document.getElementById("zdsx").checked&&"断开"==document.getElementById("connect").innerText){console.log("修改门电机状态为开",Date().split(" ").join("-"));var e="%cd%/console-LocalSyncWrapper.exe -w "+c+" Channel1.Device1.y14  1";console.log("执行命令",e),l.default.get(e,z);e="%cd%/console-LocalSyncWrapper.exe -w "+c+" Channel1.Device1.y15  0";console.log("执行命令",e),l.default.get(e,z)}else{var t="先连接服务器之后,开启自动刷新,才能修改";alert(t),console.log(t)}}),(0,e.default)("#off2").click(function(){if(void 0!==c&&1==document.getElementById("zdsx").checked&&"断开"==document.getElementById("connect").innerText){console.log("修改门电机状态为关",Date().split(" ").join("-"));var e="%cd%/console-LocalSyncWrapper.exe -w "+c+" Channel1.Device1.y15  1";console.log("执行命令",e),l.default.get(e,z);e="%cd%/console-LocalSyncWrapper.exe -w "+c+" Channel1.Device1.y14  0";console.log("执行命令",e),l.default.get(e,z)}else{var t="先连接服务器之后,开启自动刷新,才能修改";alert(t),console.log(t)}}),(0,e.default)("#stop2").click(function(){if(void 0!==c&&1==document.getElementById("zdsx").checked&&"断开"==document.getElementById("connect").innerText){console.log("修改门电机状态为停",Date().split(" ").join("-"));var e="%cd%/console-LocalSyncWrapper.exe -w "+c+" Channel1.Device1.y14  0";console.log("执行命令",e),l.default.get(e,z);e="%cd%/console-LocalSyncWrapper.exe -w "+c+" Channel1.Device1.y15  0";console.log("执行命令",e),l.default.get(e,z)}else{var t="先连接服务器之后,开启自动刷新,才能修改";alert(t),console.log(t)}}),document.getElementById("zdsx").onchange=document.getElementById("tzsx").onchange=function(){console.log("是否刷新",document.getElementById("zdsx").checked,document.getElementById("tzsx").checked),h||v&&"断开"==document.getElementById("connect").innerText&&(y=0,s=0,m=0,x=0,r=0,f=0,i=0,g=0,p=0,(c=(0,e.default)("#server").val())?(console.log("开始连接服务器",c,Date().split(" ").join("-")),B(c)):(k("服务器名称不能为空"),console.log("服务器名称不能为空"),document.getElementById("connect").innerText="连接"))},(0,e.default)("#zizd").click(function(){document.getElementById("zdsx").click()}),(0,e.default)("#zitz").click(function(){document.getElementById("tzsx").click()}),(0,e.default)("#connect").click(function(){s=0,y=0,m=0,x=0,r=0,f=0,i=0,g=0,p=0,a=(new Date).getTime(),"连接"==document.getElementById("connect").innerText?(document.getElementById("connect").innerText="断开",v=1,(c=(0,e.default)("#server").val())?(console.log("开始连接服务器",c),B(c)):(k("服务器名称不能为空"),console.log("服务器名称不能为空"),alert("服务器名称不能为空"),document.getElementById("connect").innerText="连接")):"断开"==document.getElementById("connect").innerText&&(document.getElementById("connect").innerText="连接",D("断开成功"),y=0,s=0,m=0,x=0,r=0,f=0,i=0,g=0,p=0,document.getElementById("allruntime").innerText="已启动时间:"+y/1e3+"秒 已刷新次数:"+s+"次")});
},{"./cmd.js":"OwLO"}]},{},["+7b7"], null)
//# sourceMappingURL=renderer.348c095d.js.map